<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Selector de pago</title>
    <link rel="stylesheet" href="../css/pago.css">
    <script src="https://www.paypal.com/sdk/js?client-id=AYU1VOZ4hQLVLde_24cXQ4q4ssKqIP49MIAb5lpJUS56RjKB1qAktvUK7Jf8uCJQYJ1MKLsTiKQz2QVd&currency=BRL"></script>
</head>
<body>
    <div class="metodoPago">
        <ul>
            <li><img src="../web3/paypal-logo.png" alt="paypal"></li>
            <li><img src="../web3/mercadopago-logo.png" alt="MercadoPago"></li>
            <li> <img src="../web3/logo-mach.jpg" alt="Mach"></li>
        </ul>
        <form action="#" method="post">
            <h1>Selecione metodo de pago</h1>
            <label for="opciones-pago">Opciones de Pago:</label>
            <select name="opciones-pago" id="opciones-pago">
                <option value="paypal">Paypal</option>
                <option value="MercadoPago">MercadoPago</option>
                <option value="Mach">Mach</option>
            </select>
            <!--configuracion de botones de paypal-->
            <div id="paypal" style="display:none" class="pago">
                <div id="paypal-button-container"></div>
                    <script>
                        paypal
                        .Buttons({
                        style: {
                            color: "blue",
                            shape: "pill",
                            label: "pay",
                        },
                        createOrder: function (data, actions) {
                            return actions.order.create({
                            purchase_units: [
                                {
                                amount: {
                                    value:'000.00',
                                },
                                },
                            ],
                            });
                        },
                        onApprove: function (data, actions) {
                            actions.order.capture().then(function (detalles) {
                            window.location.href = "completado.html";
                            });
                        },
                        onCancel: function (data) {
                            alert("Pago cancelado");
                            console.log(data);
                        },
                        })
                        .render("#paypal-button-container");
                    </script> 
            </div>
        </form>
            <div id="tarjeta" style="display:none">
                <p>Usted ha seleccionado la opción de pago Tarjeta de Crédito</p>
                <!-- Código de integración de tarjeta de crédito aquí -->
            </div>
            <div id="transferencia" style="display:none">
                <p>Usted ha seleccionado la opción de pago Transferencia Bancaria</p>
                <!-- Código de integración de transferencia bancaria aquí -->
            </div>
            <!--input type="submit" value="Pagar"-->
        </form>
    
        <script>
            // Obtener el elemento select y los elementos div de pago
            const opcionesPago = document.getElementById('opciones-pago');
            const paypalDiv = document.getElementById('paypal');
            const tarjetaDiv = document.getElementById('tarjeta');
            const transferenciaDiv = document.getElementById('transferencia');
    
            // Función para mostrar el div correspondiente cuando se selecciona una opción de pago
            function mostrarDivPago() {
                // Obtener el valor seleccionado en el select
                const valor = opcionesPago.value;
                // Ocultar todos los div de pago
                paypalDiv.style.display = 'none';
                tarjetaDiv.style.display = 'none';
                transferenciaDiv.style.display = 'none';
                // Mostrar el div correspondiente al valor seleccionado en el select
                if (valor === 'paypal') {
                    paypalDiv.style.display = 'block';
                } else if (valor === 'tarjeta') {
                    tarjetaDiv.style.display = 'block';
                } else if (valor === 'transferencia') {
                    transferenciaDiv.style.display = 'block';
                }
            }
    
            // Agregar un evento de cambio al select para mostrar el div correspondiente
            opcionesPago.addEventListener('change', mostrarDivPago);
        </script>
    </div>
    <br>
    <div id="steam-login" class="loginsteam">
        <img src="../web3/loginsteam.png" alt="Iniciar sesión con Steam" id="steam-login-btn">
        <form action="https://steamcommunity.com/openid/login" method="post" id="steam-login-form">
            <input type="hidden" name="openid.mode" value="checkid_setup">
            <input type="hidden" name="openid.ns" value="http://specs.openid.net/auth/2.0">
            <input type="hidden" name="openid.return_to" value="http://api.steampowered.com/ISteamUser/GetPlayerSummaries/v0002/?key=C7E1E53A35FB6F631476984F81CCAEEC&steamids=76561197960435530">
            <input type="hidden" name="openid.realm" value="http://api.steampowered.com/ISteamUser/GetPlayerSummaries/v0002/?key=C7E1E53A35FB6F631476984F81CCAEEC&steamids=76561197960435530">
            <input type="hidden" name="openid.identity" value="http://specs.openid.net/auth/2.0/identifier_select">
            <input type="hidden" name="openid.claimed_id" value="http://specs.openid.net/auth/2.0/identifier_select">
        </form>
    </div>

    <script>
        const steamLoginBtn = document.getElementById('steam-login-btn');
        const steamLoginForm = document.getElementById('steam-login-form');
        
        steamLoginBtn.addEventListener('click', function() {
            steamLoginForm.submit();
        });
    </script>
</body>